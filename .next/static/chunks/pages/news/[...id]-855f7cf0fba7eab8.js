(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[461],{3535:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/news/[...id]",function(){return t(5055)}])},7185:function(e){e.exports={main:"mainInfo_main__yEX0a",content:"mainInfo_content__p83v1",headBlock:"mainInfo_headBlock__GoxLB",images:"mainInfo_images__zhV9c"}},1152:function(e){e.exports={cardList:"cardList_cardList__tYWT1",card:"cardList_card__xsv6u",detailsBtn:"cardList_detailsBtn__cG_Mv",infiniteScroll:"cardList_infiniteScroll___LmiU"}},1144:function(e){e.exports={sortBlock:"sortBlock_sortBlock__Bb9nC",input:"sortBlock_input__WRnB2",sortSelect:"sortBlock_sortSelect__u8Ekr",itemsSelect:"sortBlock_itemsSelect__ml1x_"}},6658:function(e){e.exports={spinner:"spinner_spinner__zz_km"}},3893:function(e,n,t){"use strict";t.d(n,{ZP:function(){return d},MU:function(){return c},dD:function(){return l},Tv:function(){return o}});var a=t(6154),r=t(6319),s=t(1074);function i(e){let n=new URLSearchParams;return n.append(s.hW.Fields,s.FW.ThumbNail),n.append(s.hW.ApiKey,"b0873738-c5a8-4f80-a274-1fc42fc39cad"),n.append(s.hW.OrderBy,e.dates),n.append(s.hW.PageSize,e.onPage),n.append(s.hW.Query,e.query),n.append(s.hW.Page,e.page),"".concat("https://content.guardianapis.com/search","?").concat(n.toString())}t(3454).env.BASE_URL_DETAILS;let l=(0,r.hg)(s.Q4.GetNews,async function(e,n){let{rejectWithValue:t}=n;try{let{data:n}=await a.Z.get(i(e));return n}catch(e){return t(e.response.data.message)}}),c=(0,r.hg)(s.Q4.GetMoreNews,async function(e,n){let{rejectWithValue:t}=n;try{let{data:n}=await a.Z.get(i(e));return n}catch(e){return t(e.response.data.message)}}),o=(0,r.hg)(s.Q4.SetFilter,async function(e,n){let{rejectWithValue:t}=n;try{return e}catch(e){return t(e.response.data.message)}}),u=(0,r.oM)({name:"news",initialState:{news:[],loading:!1,value:0,filter:{dates:"newest",onPage:"10",page:"1"}},reducers:{},extraReducers:e=>{e.addCase(l.pending,e=>({...e,loading:!0})),e.addCase(l.fulfilled,(e,n)=>{let{payload:t}=n;return{...e,loading:!1,news:t.response.results}}),e.addCase(l.rejected,e=>({...e,loading:!1})),e.addCase(o.fulfilled,(e,n)=>{let{payload:t}=n;return{...e,loading:!1,filter:t}}),e.addCase(c.fulfilled,(e,n)=>{let{payload:t}=n;return{...e,loading:!1,news:[...e.news,...t.response.results]}})}});var d=u.reducer},1074:function(e,n,t){"use strict";t.d(n,{hW:function(){return i},FW:function(){return l},Q4:function(){return s},kB:function(){return r},Aq:function(){return a},Py:function(){return c}});let a=[{value:"10",label:"10"},{value:"20",label:"20"},{value:"50",label:"50"},{value:"100",label:"100"}],r=[{value:"newest",label:"Sort by newest"},{value:"oldest",label:"Sort by oldest"}],s={GetNews:"carSlice/getNews",GetMoreNews:"carSlice/getMoreNews",SetFilter:"carSlice/setFilter"},i={ApiKey:"api-key",Fields:"show-fields",OrderBy:"order-by",PageSize:"page-size",Query:"q",Page:"page"},l={ThumbNail:"thumbnail"},c="https://via.placeholder.com/250X250"},5287:function(e,n,t){"use strict";t.d(n,{CS:function(){return E},n4:function(){return A},Rf:function(){return m}});var a=t(1844),r=t(1144),s=t.n(r),i=t(9415),l=t(7211),c=t(5007),o=t(8795),u=t(9473);let d=()=>(0,u.I0)(),h=u.v9;var f=t(1074),g=t(3893),p=t(5784);function _(){let[e,n]=(0,p.useState)(!1),[t,a]=(0,p.useState)(""),{filter:r}=h(e=>e.news),s=d(),i=(0,p.useCallback)(()=>{s((0,g.dD)({...r,query:e?t:""}))},[r,e,t]),l=(0,p.useCallback)(()=>{s((0,g.MU)({...r,query:e?t:"",page:String(Number(r.page)+1)})),s((0,g.Tv)({...r,page:String(Number(r.page)+1)}))},[r,e,t]);(0,p.useEffect)(()=>{i()},[]),(0,p.useEffect)(()=>{i()},[r.dates,r.onPage]);let c=(0,p.useCallback)(()=>{n(!0),s((0,g.dD)({...r,query:t}))},[r,t]),o=e=>{a(e)};return{value:t,onSearch:c,getMoreData:l,searchByQuery:o}}function m(){let{filter:e}=h(e=>e.news),{sortByOnPages:n,sortByDate:t}=function(){let{filter:e}=h(e=>e.news),n=d(),t=t=>{n((0,g.Tv)({...e,dates:t}))},a=t=>{n((0,g.Tv)({...e,onPage:t}))};return{sortByDate:t,sortByOnPages:a}}(),{searchByQuery:r,onSearch:u,value:p}=_();return(0,a.jsxs)("div",{className:s().sortBlock,children:[(0,a.jsx)(i.Z,{value:p,placeholder:" Поиск",className:s().input,prefix:(0,a.jsx)(o.Z,{rev:void 0}),onChange:e=>r(e.target.value)}),(0,a.jsx)(l.ZP,{onClick:u,children:"Find"}),(0,a.jsx)(c.Z,{defaultValue:e.dates,className:s().sortSelect,onChange:t,options:f.kB}),(0,a.jsx)(c.Z,{defaultValue:e.onPage,className:s().itemsSelect,onChange:n,options:f.Aq})]})}var x=t(1152),v=t.n(x),j=t(109),b=t(6626),w=t(8073),N=t(5675),S=t.n(N);function y(e){let n=new Date(e),t=["january","february","march","april","may","june","july","august","september","october","november","december"][n.getMonth()],a="".concat(n.getDate()," ").concat(t," ").concat(n.getFullYear(),", ").concat(function(e){let n=e.getHours(),t=e.getMinutes(),a=n>=12?"PM":"AM";n%=12,n=n||12,t=t<10?"0".concat(t):t;let r="".concat(n,":").concat(t,":").concat(e.getSeconds()," ").concat(a);return r}(n));return a}var k=t(8957),P=t(5081),B=t(6658),Z=t.n(B);let C=()=>{let{loading:e}=h(e=>e.news);return(0,a.jsx)(a.Fragment,{children:e&&(0,a.jsx)(k.Z,{direction:"vertical",className:Z().spinner,children:(0,a.jsx)(k.Z,{children:(0,a.jsx)(P.Z,{size:"large"})})})})};var L=t(8533),F=t(1664),M=t.n(F);let{Meta:T}=j.Z;function E(){let{news:e}=h(e=>e.news),{getMoreData:n}=_();return(0,a.jsx)(L.Z,{dataLength:e.length,next:n,hasMore:!0,loader:(0,a.jsx)(a.Fragment,{}),className:v().infiniteScroll,children:(0,a.jsxs)("div",{className:v().cardList,children:[e.length?e.map(e=>(0,a.jsxs)(j.Z,{hoverable:!0,className:v().card,cover:(0,a.jsx)(S(),{alt:"example",width:200,height:180,src:e.fields?e.fields.thumbnail:f.Py}),children:[(0,a.jsx)(T,{title:e.webTitle,description:y(e.webPublicationDate)}),(0,a.jsx)(b.Z,{className:v().detailsBtn,children:(0,a.jsx)(M(),{href:"/news/".concat(e.id),children:(0,a.jsxs)(l.ZP,{children:["Details ",(0,a.jsx)(w.Z,{rev:void 0})]})},e.id)})]},e.id)):(0,a.jsx)("div",{children:"No results"}),(0,a.jsx)(C,{})]})})}var W=t(602),D=t(7185),q=t.n(D),z=t(6171);function A(e){let{data:n}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(M(),{href:"/",children:(0,a.jsxs)(l.ZP,{children:[(0,a.jsx)(z.Z,{rev:void 0}),"Сome back"]})}),(0,a.jsx)("div",{className:q().main,children:(0,a.jsxs)("div",{className:q().content,children:[(0,a.jsx)("h3",{children:(0,a.jsx)("strong",{children:n.pillarName})}),(0,a.jsxs)("div",{className:q().headBlock,children:[(0,a.jsx)("div",{children:y(n.webPublicationDate)}),(0,a.jsx)("a",{href:n.webUrl,target:"blank",children:"read on Guardian"})]}),(0,a.jsxs)("div",{className:q().headBlock,children:[(0,a.jsx)(W.Z,{alt:"example",className:q().images,src:n.fields?n.fields.thumbnail:f.Py}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{children:n.sectionName}),(0,a.jsx)("p",{children:n.webTitle})]})]})]})})]})}},5055:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSP:function(){return s},default:function(){return i}});var a=t(1844),r=t(5287),s=!0;function i(e){let{data:n}=e;return(0,a.jsx)(r.n4,{data:n})}}},function(e){e.O(0,[44,113,888,179],function(){return e(e.s=3535)}),_N_E=e.O()}]);